!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=290)}({290:function(e,t,n){n(291),n(292),n(293),e.exports=n(294)},291:function(e,t){!function(){var e,t,n={id:function(e,t,n,o){var r=e.id,l=i(n,[r]);if(!l.length)return t;return t+"#"+l[0]},tagName:function(e,t,n,o){var r=e.tagName,l=i(n,[r]);if(!l.length)return t;return l[0]+t},classList:function(e,t,n,o){var l=i(n,Array.prototype.slice.call(e.classList));if(!l.length)return t;return l.forEach(function(e){if(r(t+="."+e,o))return t}),t}};function o(o,l){var c,a,s,u,d,f,g="",y=t.length;for(f=0;f<y;f+=1)if((u=o[a=t[f]])&&(s=e[a],(c=n[a])?g=c(o,g,s,l):(d=i(s,[u])).length&&(g+="["+a+'="'+d[0]+'"]'),r(g,l)))return g;return g}function i(e,t){var n,o,i={};return e?e.include||e.exclude?(n=e.include?new RegExp(e.include):null,o=e.exclude?new RegExp(e.exclude):null,t.forEach(function(e){!e||n&&!n.test(e)||o&&o.test(e)||(i[e]=1)}),Object.keys(i)):t:[]}function r(e,t){return!!e&&1===(t=t||window.document).querySelectorAll(e).length}var l={updateAttrsConfig:function(n,o){e=n,t=o},builderCssPath:function(e){var t,n,i,l,c,a,s=e,u=o(s);if(r(u))return u;for(c=function(e){for(var t=e.parentNode,n=o(e),i=r(n);!i&&null!==t;)n=o(t),i=r(n),t=t.parentNode;return{node:e,cssPath:n}}(l=s.parentNode);!a&&null!==l;)(n=l.querySelectorAll(u)).length>1&&(i=Array.prototype.indexOf.call(n,s))>-1&&(u+=":nth-child("+(i+1)+")"),u!==t&&(t=t?u+" "+t:u),u=o(s=l),a=r(t,c.node),l=s.parentNode;return c?c.cssPath+" "+t:t}};window.automEvents=window.automEvents||{},window.automEvents.cssPathBuilder=l}()},292:function(e,t){var n,o;n=function(e){var t=e&&e.tagName&&e.tagName.toUpperCase();return!!t&&("TEXTAREA"===t||"INPUT"===t)},o={mouseenter:{condition:function(e){return!1}},dblclick:{props:["altKey","button","buttons","clientX","clientY","ctrlKey","shiftKey","which"],condition:function(e){return!(0===e.clientX&&0===e.clientY&&0===e.detail)}},click:{props:["altKey","button","buttons","clientX","clientY","ctrlKey","shiftKey","which"],condition:function(e){return!(0===e.clientX&&0===e.clientY&&0===e.detail&&e.target&&"SELECT"!==e.target.tagName.toUpperCase())}},keydown:{props:["key","keyCode","char","charCode","location","ctrlKey","shiftKey","altKey","metaKey"],condition:function(e){return 8===e.keyCode||46===e.keyCode||13===e.keyCode}},keypress:{props:["key","keyCode",,"location","ctrlKey","shiftKey","altKey","metaKey"],condition:function(e){return!n(e.target)}},keyup:{props:["key","keyCode","char","charCode","location","ctrlKey","shiftKey","altKey","metaKey"],condition:function(e){return n(e.target)&&13!==e.keyCode}},scroll:{props:["detail",{name:"scroll",fn:function(e){var t=e.target,n=!t.parentElement;return{left:n?window.pageXOffset:t.scrollLeft,top:n?window.pageYOffset:t.scrollTop}}}]},contextmenu:{props:["altKey","button","buttons","clientX","clientY","ctrlKey","shiftKey","which"]}},window.automEvents=window.automEvents||{},window.automEvents.eventConfig=o},293:function(e,t){!function(){var e,t,n,o,i,r,l,c,a=window.automEvents.eventConfig,s=null,u=!1;function d(e){c&&c(e)}function f(e){var t=e.clientX,n=e.clientY;return t>=1&&n>=1&&t<=window.innerWidth-1&&n<=window.innerHeight-1}function g(e){var t,n,o,r,l,c=e.clientX,a=e.clientY;s&&f(e)&&(t=v(),"target"===s?(r=(n=e.target).getBoundingClientRect(),l={x:(o=C(n)).x,y:o.y,width:r.width,height:r.height},t.style.border="2px solid #FF5733",t.style.position="absolute"):(l=u&&i?{x:Math.min(i.x,c)-1,y:Math.min(i.y,a)-1,width:Math.abs(i.x-c)+2,height:Math.abs(i.y-a)+2}:{x:c-1,y:a-1,width:2,height:2},t.style.position="fixed",t.style.borderTop=l.y+"px solid",t.style.borderLeft=l.x+"px solid",t.style.borderRight=window.innerWidth-l.x-l.width+"px solid",t.style.borderBottom=window.innerHeight-l.y-l.height+"px solid",t.style.borderColor="rgba(0, 0, 0, 0.7)",l.x=document.body.scrollLeft,l.y=document.body.scrollTop),t.style.top=l.y+"px",t.style.left=l.x+"px",t.style.width=l.width+"px",t.style.height=l.height+"px",t.style.display="block")}function y(e){var t;s&&f(e)&&("target"===s?(w(),(t=function(e){var t=E(e.target,!0);return{type:"verify",timeDiff:b(),target:t}}(e))&&x({target:e.target,message:t}),d({key:"selectingType",value:null})):(u=!0,i={x:e.clientX,y:e.clientY}),e.stopPropagation(),e.preventDefault())}function p(e){s&&f(e)&&(Math.abs(i.x-e.clientX)>2&&Math.abs(i.y-e.clientY)>2&&x({message:{type:"screenshot",x:Math.min(i.x,e.clientX)-1,y:Math.min(i.y,e.clientY)-1,width:Math.abs(i.x-e.clientX)+2,height:Math.abs(i.y-e.clientY)+2}}),u=!1,i=null)}function h(e){s&&(e.stopPropagation(),e.preventDefault(),w(),s=null,d({key:"selectingType",value:null}))}function w(){v().style.display="none"}function v(){var e;return o||((e=window.document.createElement("div")).id="autom-select-target-overlay",e.style.display="none",e.style.position="absolute",e.style.width="100px",e.style.border="2px solid #FF5733",e.style.height="100px",e.style.background="transparent",e.style["pointer-events"]="none",e.style["z-index"]=1e5,e.style["box-sizing"]="content-box",document.body.appendChild(e),o=e),o}function m(e){var o;n&&t&&!s&&(console.log(e.type),(o=function(e){var t=e.type,n={type:t},o=a[t],i=E(e.target);if(o){if(o.condition&&!o.condition(e))return;o.props.forEach(function(t){var o=t.name&&t.fn,i=o?t.name:t,r=o?t.fn(e):e[t];void 0!==r&&(n[i]=r)})}i&&(n.target=i);return n.timeDiff=b(),n}(e))&&x({target:e.target,message:o}))}function x(e){t(e.message)}function b(){var e=0;return l?(e=(new Date).getTime()-l,l+=e):l=(new Date).getTime(),e}function E(t,n){var o=e.concat(["textContent","value"]),i={};return t?t===document?(i.cssPath="body",i):(o.forEach(function(e){var n,o,r;o=i,(r=t[n=e])&&r.length&&(o[n]=r)}),i.textContent&&(i.textContent=i.textContent.replace(/\r|\n/g,"").substring(0,100)),i.position=C(t),i.cssPath=window.automEvents.cssPathBuilder.builderCssPath(t),i):null}function C(e){var t=e.getBoundingClientRect&&e.getBoundingClientRect();return t?{x:t.left+window.scrollX,y:t.top+window.scrollY,width:t.width,height:t.height}:{x:0,y:0}}r={events:a,startListening:function(e){t=e,Object.keys(a).forEach(function(e){a[e],window.addEventListener(e,m,!0)}),window.addEventListener("mousemove",g,!0),window.addEventListener("mousedown",y,!0),window.addEventListener("mouseup",p,!0),window.addEventListener("click",h,!0)},toggleRecording:function(e){n=e},setSelectingType:function(e){(s=n&&e||null)||w()},highlightElement:function(e){var t=document.querySelector(e);if(t){var n=v(),o=t.getBoundingClientRect(),i=C(t),r=i.x,l=i.y,c=o.width,a=o.height;n.style.border="2px solid #FF5733",n.style.top=l+"px",n.style.left=r+"px",n.style.width=c+"px",n.style.height=a+"px",n.style.display="block",setTimeout(function(){w(),s=null,d({key:"selectingType",value:null})},2e3)}},updateConfig:function(t){var n;console.log("update config: "+JSON.stringify(t)),t.selectorConfig&&t.selectorConfig.attrsConfig&&(n=t.selectorConfig.attrsConfig,e=[],Object.keys(n).forEach(function(t){n[t]&&n[t].enabled&&e.push(t)}),window.automEvents.cssPathBuilder.updateAttrsConfig(n,e))},setUpdateStateHandler:function(e){c=e}},window.automEvents=Object.assign(window.automEvents||{},r)}()},294:function(e,t){!function(){var e,t={recording:!1},n={start:function(){window.location.reload()},stop:function(){t.recording=!1,window.automEvents.toggleRecording(t.recording),e.disconnect()},selecttarget:function(){t.selectingType="target"!==t.selectingType?"target":null,window.automEvents.setSelectingType(t.selectingType)},highlight:function(e){window.automEvents.highlightElement(e)},updateconfig:function(e){window.automEvents.updateConfig(e)},updatestate:o,screenshot:i};function o(e){t[e.key]=e.value,"isPartialScreenshot"!==e.key||e.value||"region"!==t.selectingType||i()}function i(){t.selectingType=t.isPartialScreenshot&&"region"!==t.selectingType?"region":null,window.automEvents.setSelectingType(t.selectingType)}function r(){if(!t.recording)return!0;e.postMessage({stopRecording:!0})}function l(e){}function c(e){a(e)}function a(n){t.recording&&e.postMessage(n)}chrome.runtime.onMessage.addListener(function(e,t,o){var i=n[e.action];i&&i(e.value),o({success:!0})}),window.automEvents.startListening(c),window.automEvents.setUpdateStateHandler(o),window.addEventListener("unload",r),chrome.runtime.sendMessage({action:"isRecording"},function(n){t.recording=n&&n.isRecording,t.recording&&(window.automEvents.toggleRecording(t.recording),(e=chrome.runtime.connect({name:"automrecoder"})).onMessage.addListener(l),window.self===window.top&&(a({notify:"load"}),a({type:"setsize",sizes:{width:window.innerWidth,height:window.innerHeight}}),a({type:"url",url:window.location.href})))})}()}});
//# sourceMappingURL=content.js.map