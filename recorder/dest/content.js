!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=290)}({290:function(e,t,n){n(291),n(292),n(293),e.exports=n(294)},291:function(e,t){!function(){var e,t,n={id:function(t,n,o,i){var r=t.id,u=l(e[n],[r]);if(!u.length)return o;return o+"#"+u[0]},tagName:function(t,n,o,i){var r=t.tagName,u=l(e[n],[r]);if(!u.length)return o;return u[0]+o},classList:function(t,n,o,i){var u=l(e[n],Array.prototype.slice.call(t.classList));if(!u.length)return o;return u.forEach(function(e){if(r(o+="."+e,i))return o}),o}};function o(e,o){var l,u,a="",c=t.length;for(u=0;u<c;u+=1)if(e[l=t[u]]&&r(a=(n[l]||i)(e,l,a,o),o))return a;return a}function i(t,n,o,i){var r=t[n],u=l(e[n],[r]);return u.length&&(o+="["+n+'="'+u[0]+'"]'),o}function r(e,t){return!!e&&1===(t=t||window.document).querySelectorAll(e).length}function l(e,t){var n,o,i={};return e?e.include||e.exclude?(n=e.include?new RegExp(e.include):null,o=e.exclude?new RegExp(e.exclude):null,t.forEach(function(e){!e||n&&!n.test(e)||o&&o.test(e)||(i[e]=1)}),Object.keys(i)):t:[]}var u={updateAttrsConfig:function(n,o){e=n,t=o},build:function(e){var t,n,i,l,u,a=e,c=o(a);if(r(c))return c;for(l=function(e){for(var t=e.parentNode,n=o(e),i=r(n);!i&&null!==t;)n=o(t),i=r(n),e=t,t=t.parentNode;return{node:e,cssPath:n}}(i=a.parentNode);!u&&null!==i;)i.querySelectorAll(c).length>1&&(n=Array.prototype.indexOf.call(i.children,a))>-1&&(c+=":nth-child("+(n+1)+")"),c!==t&&(t=t?c+" "+t:c),c=o(a=i),u=r(t,l.node),i=a.parentNode;return l?l.cssPath+" "+t:t}};window.automEvents=window.automEvents||{},window.automEvents.cssPathBuilder=u}()},292:function(e,t){!function(){var e={mouseenter:{condition:function(e){return!1}},dblclick:{condition:function(e){return!(0===e.clientX&&0===e.clientY&&0===e.detail)}},click:{condition:function(e){return!(0===e.clientX&&0===e.clientY&&0===e.detail&&e.target&&"SELECT"!==e.target.tagName.toUpperCase())}},keydown:{props:[{name:"value",fn:function(e){return e.keyCode}}],condition:function(e){return 8===e.keyCode||46===e.keyCode||13===e.keyCode}},keypress:{props:[{name:"value",fn:function(e){return e.keyCode}}],condition:function(e){return!t(e.target)}},keyup:{props:[{name:"value",fn:function(e){return e.target.value}}],condition:function(e){return t(e.target)&&13!==e.keyCode}},scroll:{props:[{name:"left",fn:function(e){return e.target.parentElement?e.target.scrollLeft:window.pageXOffset}},{name:"top",fn:function(e){return e.target.parentElement?e.target.scrollTop:window.pageYOffset}}]},contextmenu:{}};function t(e){var t=e&&e.tagName&&e.tagName.toUpperCase();return!!t&&("TEXTAREA"===t||"INPUT"===t)}window.automEvents=window.automEvents||{},window.automEvents.eventConfig=e}()},293:function(e,t){!function(){var e,t,n,o,i,r,l=window.automEvents.eventConfig,u=null,a={},c=!1;function s(e){r&&r(e)}function d(e){var t=e.clientX,n=e.clientY;return t>=1&&n>=1&&t<=window.innerWidth-1&&n<=window.innerHeight-1}function f(e){var t,n,o,i,r,l=e.clientX,s=e.clientY;u&&d(e)&&(t=h(),"target"===u?(i=(n=e.target).getBoundingClientRect(),r={x:(o=x(n)).x,y:o.y,width:i.width,height:i.height},t.style.border="2px solid #FF5733",t.style.position="absolute"):(r=c&&a?{x:Math.min(a.x,l)-1,y:Math.min(a.y,s)-1,width:Math.abs(a.x-l)+2,height:Math.abs(a.y-s)+2}:{x:l-1,y:s-1,width:2,height:2},t.style.position="fixed",t.style.borderTop=r.y+"px solid",t.style.borderLeft=r.x+"px solid",t.style.borderRight=window.innerWidth-r.x-r.width+"px solid",t.style.borderBottom=window.innerHeight-r.y-r.height+"px solid",t.style.borderColor="rgba(0, 0, 0, 0.7)",r.x=document.body.scrollLeft,r.y=document.body.scrollTop),t.style.top=r.y+"px",t.style.left=r.x+"px",t.style.width=r.width+"px",t.style.height=r.height+"px",t.style.display="block")}function g(e){var t;u&&d(e)&&("target"===u?(w(),(t=function(e){return{type:"verify",cssPath:window.automEvents.cssPathBuilder.build(e.target),value:e.target.textContent}}(e))&&m({target:e.target,message:t}),s({key:"selectingType",value:null})):(c=!0,a={x:e.clientX,y:e.clientY}),e.stopPropagation(),e.preventDefault())}function p(e){u&&d(e)&&(Math.abs(a.x-e.clientX)>2&&Math.abs(a.y-e.clientY)>2&&m({message:{type:"screenshot",left:Math.min(a.x,e.clientX)-1,top:Math.min(a.y,e.clientY)-1,width:Math.abs(a.x-e.clientX)+2,height:Math.abs(a.y-e.clientY)+2}}),c=!1,a=null)}function y(e){u&&(e.stopPropagation(),e.preventDefault(),w(),u=null,s({key:"selectingType",value:null}))}function w(){h().style.display="none"}function h(){var e;return o||((e=window.document.createElement("div")).id="autom-select-target-overlay",e.style.display="none",e.style.position="absolute",e.style.width="100px",e.style.border="2px solid #FF5733",e.style.height="100px",e.style.background="transparent",e.style["pointer-events"]="none",e.style["z-index"]=1e5,e.style["box-sizing"]="content-box",document.body.appendChild(e),o=e),o}function v(e){var o;n&&t&&!u&&(console.log(e.type),(o=function(e){var t=e.type,n={type:t,cssPath:window.automEvents.cssPathBuilder.build(e.target)},o=l[t];if(o){if(o.condition&&!o.condition(e))return;o.props&&o.props.forEach(function(t){var o=t.name&&t.fn,i=o?t.name:t,r=o?t.fn(e):e[t];void 0!==r&&(n[i]=r)})}return n}(e))&&m({target:e.target,message:o}))}function m(e){t(e.message)}function x(e){var t=e.getBoundingClientRect&&e.getBoundingClientRect();return t?{x:t.left+window.scrollX,y:t.top+window.scrollY,width:t.width,height:t.height}:{x:0,y:0}}i={events:l,startListening:function(e){t=e,Object.keys(l).forEach(function(e){window.addEventListener(e,v,!0)}),window.addEventListener("mousemove",f,!0),window.addEventListener("mousedown",g,!0),window.addEventListener("mouseup",p,!0),window.addEventListener("click",y,!0)},toggleRecording:function(e){n=e},setSelectingType:function(e){(u=n&&e||null)||w()},highlightElement:function(e){var t=document.querySelector(e);if(t){var n=h(),o=t.getBoundingClientRect(),i=x(t),r=i.x,l=i.y,a=o.width,c=o.height;n.style.border="2px solid #FF5733",n.style.top=l+"px",n.style.left=r+"px",n.style.width=a+"px",n.style.height=c+"px",n.style.display="block",setTimeout(function(){w(),u=null,s({key:"selectingType",value:null})},2e3)}},updateConfig:function(t){var n;console.log("update config: "+JSON.stringify(t)),t.selectorConfig&&t.selectorConfig.attrsConfig&&(n=t.selectorConfig.attrsConfig,e=[],Object.keys(n).forEach(function(t){n[t]&&n[t].enabled&&e.push(t)}),window.automEvents.cssPathBuilder.updateAttrsConfig(n,e))},setUpdateStateHandler:function(e){r=e}},window.automEvents=Object.assign(window.automEvents||{},i)}()},294:function(e,t){!function(){var e,t={recording:!1},n={start:function(){window.location.reload()},stop:function(){t.recording=!1,window.automEvents.toggleRecording(t.recording),e.disconnect()},selecttarget:function(){t.selectingType="target"!==t.selectingType?"target":null,window.automEvents.setSelectingType(t.selectingType)},highlight:function(e){window.automEvents.highlightElement(e)},updateconfig:function(e){window.automEvents.updateConfig(e)},updatestate:o,screenshot:i};function o(e){t[e.key]=e.value,"isPartialScreenshot"!==e.key||e.value||"region"!==t.selectingType||i()}function i(){t.selectingType=t.isPartialScreenshot&&"region"!==t.selectingType?"region":null,window.automEvents.setSelectingType(t.selectingType)}function r(){if(!t.recording)return!0;e.postMessage({stopRecording:!0})}function l(e){}function u(e){a(e)}function a(n){t.recording&&e.postMessage(n)}chrome.runtime.onMessage.addListener(function(e,t,o){var i=n[e.action];i&&i(e.value),o({success:!0})}),window.automEvents.startListening(u),window.automEvents.setUpdateStateHandler(o),window.addEventListener("unload",r),chrome.runtime.sendMessage({action:"isRecording"},function(n){t.recording=n&&n.isRecording,t.recording&&(window.automEvents.toggleRecording(t.recording),(e=chrome.runtime.connect({name:"automrecoder"})).onMessage.addListener(l),window.self===window.top&&(a({notify:"load"}),a({type:"setsize",width:window.innerWidth,height:window.innerHeight}),a({type:"url",value:window.location.href})))})}()}});
//# sourceMappingURL=content.js.map