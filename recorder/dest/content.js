!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=290)}({290:function(e,t,n){n(291),n(292),e.exports=n(293)},291:function(e,t){var n,i;n=function(e){var t=e&&e.tagName&&e.tagName.toUpperCase();return!!t&&("TEXTAREA"===t||"INPUT"===t)},i={mouseenter:{condition:function(e){return!1}},dblclick:{props:["altKey","button","buttons","clientX","clientY","ctrlKey","shiftKey","which"],condition:function(e){return!(0===e.clientX&&0===e.clientY&&0===e.detail)}},click:{props:["altKey","button","buttons","clientX","clientY","ctrlKey","shiftKey","which"],condition:function(e){return!(0===e.clientX&&0===e.clientY&&0===e.detail&&e.target&&"SELECT"!==e.target.tagName.toUpperCase())}},keydown:{props:["key","keyCode","char","charCode","location","ctrlKey","shiftKey","altKey","metaKey"],condition:function(e){return 8===e.keyCode||46===e.keyCode||13===e.keyCode}},keypress:{props:["key","keyCode",,"location","ctrlKey","shiftKey","altKey","metaKey"],condition:function(e){return!n(e.target)}},keyup:{props:["key","keyCode","char","charCode","location","ctrlKey","shiftKey","altKey","metaKey"],condition:function(e){return n(e.target)&&13!==e.keyCode}},scroll:{props:["detail",{name:"scroll",fn:function(e){var t=e.target,n=!t.parentElement;return{left:n?window.pageXOffset:t.scrollLeft,top:n?window.pageYOffset:t.scrollTop}}}]},contextmenu:{props:["altKey","button","buttons","clientX","clientY","ctrlKey","shiftKey","which"]}},window.automEvents=window.automEvents||{},window.automEvents.eventConfig=i,window.automEvents.selectorConfig={attrsConfig:{id:{enabled:!0,include:null,exclude:null},classList:{enabled:!0,include:null,exclude:null},tagName:{enabled:!0,include:null,exclude:null},target:{enabled:!0,include:null,exclude:null},name:{enabled:!0,include:null,exclude:null},type:{enabled:!0,include:null,exclude:null}}}},292:function(e,t){!function(){var e,t,n,i,o,r,l,c,u=window.automEvents,a=u.eventConfig,s=u.selectorConfig.attrsConfig,d={id:function(e,t,n){var i=e.id,o=L(n,[i]);if(!o.length)return t;return t+"#"+o[0]},tagName:function(e,t,n){var i=e.tagName,o=L(n,[i]);if(!o.length)return t;return o[0]+t},classList:function(e,t,n){var i=L(n,Array.prototype.slice.call(e.classList));if(!i.length)return t;return i.forEach(function(e){if(S(t+="."+e))return t}),t}},f=null,g=!1;function y(){e=[],Object.keys(s).forEach(function(t){s[t]&&s[t].enabled&&e.push(t)})}function p(e){c&&c(e)}function h(e){var t=e.clientX,n=e.clientY;return t>=1&&n>=1&&t<=window.innerWidth-1&&n<=window.innerHeight-1}function w(e){var t,n,i,r,l,c=e.clientX,u=e.clientY;f&&h(e)&&(t=E(),"target"===f?(r=(n=e.target).getBoundingClientRect(),l={x:(i=O(n)).x,y:i.y,width:r.width,height:r.height},t.style.border="2px solid #FF5733"):(l=g&&o?{x:Math.min(o.x,c)-1,y:Math.min(o.y,u)-1,width:Math.abs(o.x-c)+2,height:Math.abs(o.y-u)+2}:{x:c-1,y:u-1,width:2,height:2},t.style.borderTop=l.y+"px solid",t.style.borderLeft=l.x+"px solid",t.style.borderRight=window.innerWidth-l.x-l.width+"px solid",t.style.borderBottom=window.innerHeight-l.y-l.height+"px solid",t.style.borderColor="rgba(0, 0, 0, 0.7)",l.x=document.body.scrollLeft,l.y=document.body.scrollTop),t.style.top=l.y+"px",t.style.left=l.x+"px",t.style.width=l.width+"px",t.style.height=l.height+"px",t.style.display="block")}function m(e){var t;f&&h(e)&&("target"===f?(b(),(t=function(e){var t=K(e.target,!0);return{type:"verify",timeDiff:T(),target:t}}(e))&&k({target:e.target,message:t}),p({key:"selectingType",value:null})):(g=!0,o={x:e.clientX,y:e.clientY}),e.stopPropagation(),e.preventDefault())}function v(e){f&&h(e)&&(Math.abs(o.x-e.clientX)>2&&Math.abs(o.y-e.clientY)>2&&k({message:{type:"screenshot",x:Math.min(o.x,e.clientX)-1,y:Math.min(o.y,e.clientY)-1,width:Math.abs(o.x-e.clientX)+2,height:Math.abs(o.y-e.clientY)+2}}),g=!1,o=null)}function x(e){f&&(e.stopPropagation(),e.preventDefault(),b(),f=null,p({key:"selectingType",value:null}))}function b(){E().style.display="none"}function E(){var e;return i||((e=window.document.createElement("div")).id="autom-select-target-overlay",e.style.display="none",e.style.position="fixed",e.style.width="100px",e.style.border="2px solid #FF5733",e.style.height="100px",e.style.background="transparent",e.style["pointer-events"]="none",e.style["z-index"]=1e5,e.style["box-sizing"]="content-box",document.body.appendChild(e),i=e),i}function C(e){var i;n&&t&&!f&&(console.log(e.type),(i=function(e){var t=e.type,n={type:t},i=a[t],o=K(e.target);if(i){if(i.condition&&!i.condition(e))return;i.props.forEach(function(t){var i=t.name&&t.fn,o=i?t.name:t,r=i?t.fn(e):e[t];void 0!==r&&(n[o]=r)})}o&&(n.target=o);return n.timeDiff=T(),n}(e))&&k({target:e.target,message:i}))}function k(e){t(e.message)}function T(){var e=0;return l?(e=(new Date).getTime()-l,l+=e):l=(new Date).getTime(),e}function K(t,n){var i=e.concat(["textContent","value"]),o={};return t?t===document?(o.cssPath="body",o):(i.forEach(function(e){var n,i,r;i=o,(r=t[n=e])&&r.length&&(i[n]=r)}),o.textContent&&(o.textContent=o.textContent.replace(/\r|\n/g,"").substring(0,100)),o.position=O(t),o.cssPath=function(e){var t,n,i,o,r,l=e,c=M(l);if(S(c))return c;o=l.parentNode;for(;!r&&null!==o;)(n=o.querySelectorAll(c)).length>1&&(i=Array.prototype.indexOf.call(n,l))>-1&&(c+=":nth-child("+(i+1)+")"),c!==t&&(t=t?c+" "+t:c),c=M(l=o),r=S(t),o=l.parentNode;return t}(t),o):null}function M(t){var n,i,o,r,l,c,u="",a=e.length;for(c=0;c<a;c+=1)if((r=t[i=e[c]])&&(o=s[i],(n=d[i])?u=n(t,u,o):(l=L(o,[r])).length&&(u+="["+i+'="'+l[0]+'"]'),S(u)))return u;return u}function L(e,t){var n,i,o={};return e?e.include||e.exclude?(n=e.include?new RegExp(e.include):null,i=e.exclude?new RegExp(e.exclude):null,t.forEach(function(e){!e||n&&!n.test(e)||i&&i.test(e)||(o[e]=1)}),Object.keys(o)):t:[]}function S(e,t){return!!e&&(t=t||window.document,1===window.document.querySelectorAll(e).length)}function O(e){var t=e.getBoundingClientRect&&e.getBoundingClientRect();return t?{x:t.left+window.scrollX,y:t.top+window.scrollY,width:t.width,height:t.height}:{x:0,y:0}}r={events:a,startListening:function(e){t=e,y(),Object.keys(a).forEach(function(e){a[e],window.addEventListener(e,C,!0)}),window.addEventListener("mousemove",w,!0),window.addEventListener("mousedown",m,!0),window.addEventListener("mouseup",v,!0),window.addEventListener("click",x,!0)},toggleRecording:function(e){n=e},setSelectingType:function(e){(f=n&&e||null)||b()},highlightElement:function(e){var t=document.querySelector(e);if(t){var n=E(),i=t.getBoundingClientRect(),o=O(t),r=o.x,l=o.y,c=i.width,u=i.height;n.style.border="2px solid #FF5733",n.style.top=l+"px",n.style.left=r+"px",n.style.width=c+"px",n.style.height=u+"px",n.style.display="block",setTimeout(function(){b(),f=null,p({key:"selectingType",value:null})},2e3)}},updateConfig:function(e){console.log("update config: "+JSON.stringify(e)),e.selectorConfig&&e.selectorConfig.attrsConfig&&(s=e.selectorConfig.attrsConfig,y())},setUpdateStateHandler:function(e){c=e}},window.automEvents=Object.assign(window.automEvents||{},r)}()},293:function(e,t){!function(){var e,t={recording:!1},n={start:function(){window.location.reload()},stop:function(){t.recording=!1,window.automEvents.toggleRecording(t.recording),e.disconnect()},selecttarget:function(){t.selectingType="target"!==t.selectingType?"target":null,window.automEvents.setSelectingType(t.selectingType)},highlight:function(e){window.automEvents.highlightElement(e)},updateconfig:function(e){window.automEvents.updateConfig(e)},updatestate:i,screenshot:o};function i(e){t[e.key]=e.value,"isPartialScreenshot"!==e.key||e.value||"region"!==t.selectingType||o()}function o(){t.selectingType=t.isPartialScreenshot&&"region"!==t.selectingType?"region":null,window.automEvents.setSelectingType(t.selectingType)}function r(){if(!t.recording)return!0;e.postMessage({stopRecording:!0})}function l(e){}function c(e){u(e)}function u(n){t.recording&&e.postMessage(n)}chrome.runtime.onMessage.addListener(function(e,t,i){var o=n[e.action];o&&o(e.value),i({success:!0})}),window.automEvents.startListening(c),window.automEvents.setUpdateStateHandler(i),window.addEventListener("unload",r),chrome.runtime.sendMessage({action:"isRecording"},function(n){t.recording=n&&n.isRecording,t.recording&&(window.automEvents.toggleRecording(t.recording),(e=chrome.runtime.connect({name:"automrecoder"})).onMessage.addListener(l),window.self===window.top&&(u({notify:"load"}),u({type:"setsize",sizes:{width:window.innerWidth,height:window.innerHeight}}),u({type:"url",url:window.location.href})))})}()}});
//# sourceMappingURL=content.js.map