!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=290)}({290:function(e,t,n){n(291),n(292),e.exports=n(293)},291:function(e,t){var n,o;n=function(e){var t=e&&e.tagName&&e.tagName.toUpperCase();return!!t&&("TEXTAREA"===t||"INPUT"===t)},o={mouseenter:{condition:function(e){return!1}},dblclick:{props:["altKey","button","buttons","clientX","clientY","ctrlKey","shiftKey","which"],condition:function(e){return!(0===e.clientX&&0===e.clientY&&0===e.detail)}},click:{props:["altKey","button","buttons","clientX","clientY","ctrlKey","shiftKey","which"],condition:function(e){return!(0===e.clientX&&0===e.clientY&&0===e.detail&&e.target&&"SELECT"!==e.target.tagName.toUpperCase())}},keydown:{props:["key","keyCode","char","charCode","location","ctrlKey","shiftKey","altKey","metaKey"],condition:function(e){return 8===e.keyCode||46===e.keyCode||13===e.keyCode}},keypress:{props:["key","keyCode",,"location","ctrlKey","shiftKey","altKey","metaKey"],condition:function(e){return!n(e.target)}},keyup:{props:["key","keyCode","char","charCode","location","ctrlKey","shiftKey","altKey","metaKey"],condition:function(e){return n(e.target)&&13!==e.keyCode}},scroll:{props:["detail",{name:"scroll",fn:function(e){var t=e.target,n=!t.parentElement;return{left:n?window.pageXOffset:t.scrollLeft,top:n?window.pageYOffset:t.scrollTop}}}]},contextmenu:{props:["altKey","button","buttons","clientX","clientY","ctrlKey","shiftKey","which"]}},window.automEvents=window.automEvents||{},window.automEvents.eventConfig=o},292:function(e,t){!function(){var e,t,n,o,i,r,l,c,a,s=window.automEvents.eventConfig,u={id:function(e,t,n){var o=e.id,i=K(n,[o]);if(!i.length)return t;return t+"#"+i[0]},tagName:function(e,t,n){var o=e.tagName,i=K(n,[o]);if(!i.length)return t;return i[0]+t},classList:function(e,t,n){var o=K(n,Array.prototype.slice.call(e.classList));if(!o.length)return t;return o.forEach(function(e){if(M(t+="."+e))return t}),t}},d=null,f=!1;function g(e){a&&a(e)}function y(e){var t=e.clientX,n=e.clientY;return t>=1&&n>=1&&t<=window.innerWidth-1&&n<=window.innerHeight-1}function p(e){var t,n,o,i,l,c=e.clientX,a=e.clientY;d&&y(e)&&(t=x(),"target"===d?(i=(n=e.target).getBoundingClientRect(),l={x:(o=S(n)).x,y:o.y,width:i.width,height:i.height},t.style.border="2px solid #FF5733",t.style.position="absolute"):(l=f&&r?{x:Math.min(r.x,c)-1,y:Math.min(r.y,a)-1,width:Math.abs(r.x-c)+2,height:Math.abs(r.y-a)+2}:{x:c-1,y:a-1,width:2,height:2},t.style.position="fixed",t.style.borderTop=l.y+"px solid",t.style.borderLeft=l.x+"px solid",t.style.borderRight=window.innerWidth-l.x-l.width+"px solid",t.style.borderBottom=window.innerHeight-l.y-l.height+"px solid",t.style.borderColor="rgba(0, 0, 0, 0.7)",l.x=document.body.scrollLeft,l.y=document.body.scrollTop),t.style.top=l.y+"px",t.style.left=l.x+"px",t.style.width=l.width+"px",t.style.height=l.height+"px",t.style.display="block")}function h(e){var t;d&&y(e)&&("target"===d?(v(),(t=function(e){var t=k(e.target,!0);return{type:"verify",timeDiff:C(),target:t}}(e))&&E({target:e.target,message:t}),g({key:"selectingType",value:null})):(f=!0,r={x:e.clientX,y:e.clientY}),e.stopPropagation(),e.preventDefault())}function w(e){d&&y(e)&&(Math.abs(r.x-e.clientX)>2&&Math.abs(r.y-e.clientY)>2&&E({message:{type:"screenshot",x:Math.min(r.x,e.clientX)-1,y:Math.min(r.y,e.clientY)-1,width:Math.abs(r.x-e.clientX)+2,height:Math.abs(r.y-e.clientY)+2}}),f=!1,r=null)}function m(e){d&&(e.stopPropagation(),e.preventDefault(),v(),d=null,g({key:"selectingType",value:null}))}function v(){x().style.display="none"}function x(){var e;return i||((e=window.document.createElement("div")).id="autom-select-target-overlay",e.style.display="none",e.style.position="absolute",e.style.width="100px",e.style.border="2px solid #FF5733",e.style.height="100px",e.style.background="transparent",e.style["pointer-events"]="none",e.style["z-index"]=1e5,e.style["box-sizing"]="content-box",document.body.appendChild(e),i=e),i}function b(e){var t;o&&n&&!d&&(console.log(e.type),(t=function(e){var t=e.type,n={type:t},o=s[t],i=k(e.target);if(o){if(o.condition&&!o.condition(e))return;o.props.forEach(function(t){var o=t.name&&t.fn,i=o?t.name:t,r=o?t.fn(e):e[t];void 0!==r&&(n[i]=r)})}i&&(n.target=i);return n.timeDiff=C(),n}(e))&&E({target:e.target,message:t}))}function E(e){n(e.message)}function C(){var e=0;return c?(e=(new Date).getTime()-c,c+=e):c=(new Date).getTime(),e}function k(e,n){var o=t.concat(["textContent","value"]),i={};return e?e===document?(i.cssPath="body",i):(o.forEach(function(t){var n,o,r;o=i,(r=e[n=t])&&r.length&&(o[n]=r)}),i.textContent&&(i.textContent=i.textContent.replace(/\r|\n/g,"").substring(0,100)),i.position=S(e),i.cssPath=function(e){var t,n,o,i,r,l=e,c=T(l);if(M(c))return c;i=l.parentNode;for(;!r&&null!==i;)(n=i.querySelectorAll(c)).length>1&&(o=Array.prototype.indexOf.call(n,l))>-1&&(c+=":nth-child("+(o+1)+")"),c!==t&&(t=t?c+" "+t:c),c=T(l=i),r=M(t),i=l.parentNode;return t}(e),i):null}function T(n){var o,i,r,l,c,a,s="",d=t.length;for(a=0;a<d;a+=1)if((l=n[i=t[a]])&&(r=e[i],(o=u[i])?s=o(n,s,r):(c=K(r,[l])).length&&(s+="["+i+'="'+c[0]+'"]'),M(s)))return s;return s}function K(e,t){var n,o,i={};return e?e.include||e.exclude?(n=e.include?new RegExp(e.include):null,o=e.exclude?new RegExp(e.exclude):null,t.forEach(function(e){!e||n&&!n.test(e)||o&&o.test(e)||(i[e]=1)}),Object.keys(i)):t:[]}function M(e,t){return!!e&&(t=t||window.document,1===window.document.querySelectorAll(e).length)}function S(e){var t=e.getBoundingClientRect&&e.getBoundingClientRect();return t?{x:t.left+window.scrollX,y:t.top+window.scrollY,width:t.width,height:t.height}:{x:0,y:0}}l={events:s,startListening:function(e){n=e,Object.keys(s).forEach(function(e){s[e],window.addEventListener(e,b,!0)}),window.addEventListener("mousemove",p,!0),window.addEventListener("mousedown",h,!0),window.addEventListener("mouseup",w,!0),window.addEventListener("click",m,!0)},toggleRecording:function(e){o=e},setSelectingType:function(e){(d=o&&e||null)||v()},highlightElement:function(e){var t=document.querySelector(e);if(t){var n=x(),o=t.getBoundingClientRect(),i=S(t),r=i.x,l=i.y,c=o.width,a=o.height;n.style.border="2px solid #FF5733",n.style.top=l+"px",n.style.left=r+"px",n.style.width=c+"px",n.style.height=a+"px",n.style.display="block",setTimeout(function(){v(),d=null,g({key:"selectingType",value:null})},2e3)}},updateConfig:function(n){console.log("update config: "+JSON.stringify(n)),n,n.selectorConfig&&n.selectorConfig.attrsConfig&&function(e){t=[],e&&Object.keys(e).forEach(function(n){e[n]&&e[n].enabled&&t.push(n)})}(e=n.selectorConfig.attrsConfig)},setUpdateStateHandler:function(e){a=e}},window.automEvents=Object.assign(window.automEvents||{},l)}()},293:function(e,t){!function(){var e,t={recording:!1},n={start:function(){window.location.reload()},stop:function(){t.recording=!1,window.automEvents.toggleRecording(t.recording),e.disconnect()},selecttarget:function(){t.selectingType="target"!==t.selectingType?"target":null,window.automEvents.setSelectingType(t.selectingType)},highlight:function(e){window.automEvents.highlightElement(e)},updateconfig:function(e){window.automEvents.updateConfig(e)},updatestate:o,screenshot:i};function o(e){t[e.key]=e.value,"isPartialScreenshot"!==e.key||e.value||"region"!==t.selectingType||i()}function i(){t.selectingType=t.isPartialScreenshot&&"region"!==t.selectingType?"region":null,window.automEvents.setSelectingType(t.selectingType)}function r(){if(!t.recording)return!0;e.postMessage({stopRecording:!0})}function l(e){}function c(e){a(e)}function a(n){t.recording&&e.postMessage(n)}chrome.runtime.onMessage.addListener(function(e,t,o){var i=n[e.action];i&&i(e.value),o({success:!0})}),window.automEvents.startListening(c),window.automEvents.setUpdateStateHandler(o),window.addEventListener("unload",r),chrome.runtime.sendMessage({action:"isRecording"},function(n){t.recording=n&&n.isRecording,t.recording&&(window.automEvents.toggleRecording(t.recording),(e=chrome.runtime.connect({name:"automrecoder"})).onMessage.addListener(l),window.self===window.top&&(a({notify:"load"}),a({type:"setsize",sizes:{width:window.innerWidth,height:window.innerHeight}}),a({type:"url",url:window.location.href})))})}()}});
//# sourceMappingURL=content.js.map