{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./content/content.js","webpack:///./content/cssPathBuilder.js","webpack:///./content/eventConfig.js","webpack:///./content/events.js"],"names":["state","recording","actions","start","startAction","stop","stopAction","selecttarget","selectTargetAction","highlight","highlightElement","updateconfig","updateConfig","updatestate","updateState","screenshot","channel","chrome","runtime","onMessage","addListener","request","sender","sendResponse","action","success","value","window","location","reload","automEvents","toggleRecording","closeChannel","config","key","selectingType","isPartialScreenshot","setSelectingType","cssPath","startListening","eventCallBack","setUpdateStateHandler","addEventListener","onUnLoad","sendMessage","response","isRecording","createChannel","self","top","notify","type","width","innerWidth","height","innerHeight","href","postMessage","stopRecording","connect","name","handlChannelMessage","message","disconnect","eventMessage","attrsConfig","attrs","attrBuilderMap","buildIdPath","buildTagPath","buildClassPath","updateAttrsConfig","newConfig","newAttrs","build","target","currentTarget","currentCssPath","buildCssPath","els","nth","parent","uniqueParent","isUnique","isUniqueSelector","parentNode","getUniqueParent","querySelectorAll","length","Array","prototype","indexOf","call","children","node","pathBuilder","attr","i","len","buildAttrPath","id","attrConfig","matchValues","matches","tagName","slice","classList","forEach","css","attrValue","document","values","resultMap","includeRegex","excludeRegex","include","exclude","RegExp","test","Object","keys","cssPathBuilder","events","mouseenter","condition","evt","dblclick","clientX","clientY","detail","click","toUpperCase","keydown","props","fn","keyCode","keypress","isTextInput","keyup","scroll","parentElement","scrollLeft","pageXOffset","scrollTop","pageYOffset","contextmenu","eventConfig","eventCb","selectTargetOverlay","regionStart","isMouseDown","eventModule","updateStateHandler","cb","event","onEvent","onSelectingMouseOver","onSelectingMouseDown","onSelectingMouseUp","onSelectingClick","toStart","hideSelectingOverlay","handler","console","log","JSON","stringify","selectorConfig","enabled","push","isInRange","evtX","evtY","overLay","position","targetBox","size","getSelectingOverlay","getBoundingClientRect","getPosition","x","y","style","border","Math","min","abs","borderTop","borderLeft","borderRight","borderBottom","borderColor","body","left","display","getVerifyTargetMessage","sendEventMessage","stopPropagation","preventDefault","querySelector","setTimeout","el","createElement","background","appendChild","getEventMessage","textContent","prop","isPropFunc","propName","propValue","undefined","elPosition","scrollX","scrollY","assign"],"mappings":"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","file":"content.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","(function () {\r\n    var state = {\r\n        recording: false\r\n    },\r\n        actions = {\r\n            start: startAction,\r\n            stop: stopAction,\r\n            selecttarget: selectTargetAction,\r\n            highlight: highlightElement,\r\n            updateconfig: updateConfig,\r\n            updatestate: updateState,\r\n            screenshot: screenshot\r\n        },\r\n        channel;\r\n\r\n    chrome.runtime.onMessage.addListener(\r\n        function (request, sender, sendResponse) {\r\n            var action = actions[request.action],\r\n                success = false;\r\n\r\n            if (action) {\r\n                action(request.value);\r\n                success = true;\r\n            }\r\n            sendResponse({ success: true });\r\n        });\r\n\r\n    function startAction() {\r\n        window.location.reload();\r\n    }\r\n\r\n    function stopAction() {\r\n        state.recording = false;\r\n        window.automEvents.toggleRecording(state.recording);\r\n        closeChannel();\r\n    }\r\n\r\n    function updateState(config) {\r\n        state[config.key] = config.value;\r\n        if (config.key === 'isPartialScreenshot' && !config.value && state.selectingType === 'region') {\r\n            screenshot();\r\n        }\r\n    }\r\n\r\n    function screenshot() {\r\n        state.selectingType = state.isPartialScreenshot && state.selectingType !== 'region' ? 'region' : null;\r\n        window.automEvents.setSelectingType(state.selectingType);\r\n    }\r\n\r\n    function selectTargetAction() {\r\n        state.selectingType = state.selectingType !== 'target' ? 'target' : null;\r\n        window.automEvents.setSelectingType(state.selectingType);\r\n    }\r\n\r\n    function highlightElement(cssPath) {\r\n        window.automEvents.highlightElement(cssPath);\r\n    }\r\n\r\n    function updateConfig(config) {\r\n        window.automEvents.updateConfig(config);\r\n    }\r\n\r\n    function start() {\r\n        window.automEvents.startListening(eventCallBack);\r\n        window.automEvents.setUpdateStateHandler(updateState);\r\n        window.addEventListener('unload', onUnLoad);\r\n\r\n        chrome.runtime.sendMessage({ action: 'isRecording' }, function (response) {\r\n            state.recording = response && response.isRecording;\r\n            if (state.recording) {\r\n                window.automEvents.toggleRecording(state.recording);\r\n                createChannel();\r\n\r\n                if (window.self === window.top) {\r\n                    sendMessage({\r\n                        notify: 'load'\r\n                    });\r\n                    sendMessage({\r\n                        type: 'setsize',\r\n                        width: window.innerWidth,\r\n                        height: window.innerHeight\r\n                    });\r\n                    sendMessage({\r\n                        type: 'url',\r\n                        value: window.location.href\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    function onUnLoad() {\r\n        if (!state.recording) {\r\n            return true;\r\n        }\r\n\r\n        channel.postMessage({ stopRecording: true });\r\n    }\r\n\r\n    function createChannel() {\r\n        channel = chrome.runtime.connect({ name: \"automrecoder\" });\r\n\r\n        channel.onMessage.addListener(handlChannelMessage);\r\n    }\r\n\r\n    function handlChannelMessage(message) {\r\n\r\n    }\r\n\r\n    function closeChannel() {\r\n        channel.disconnect();\r\n    }\r\n\r\n    function eventCallBack(eventMessage) {\r\n        sendMessage(eventMessage);\r\n    }\r\n\r\n    function sendMessage(message) {\r\n        if (!state.recording) {\r\n            return;\r\n        }\r\n\r\n        channel.postMessage(message);\r\n    }\r\n\r\n    start();\r\n})()","(function () {\r\n    var attrsConfig,\r\n        attrs,\r\n        attrBuilderMap = {\r\n            'id': buildIdPath,\r\n            'tagName': buildTagPath,\r\n            'classList': buildClassPath\r\n        };\r\n\r\n    function updateAttrsConfig(newConfig, newAttrs) {\r\n        attrsConfig = newConfig;\r\n        attrs = newAttrs;\r\n    }\r\n\r\n    function build(target) {\r\n        var currentTarget = target,\r\n            currentCssPath = buildCssPath(currentTarget),\r\n            cssPath,\r\n            els,\r\n            nth,\r\n            parent,\r\n            uniqueParent,\r\n            isUnique;\r\n\r\n        if (isUniqueSelector(currentCssPath)) {\r\n            return currentCssPath;\r\n        }\r\n\r\n        parent = currentTarget.parentNode;      \r\n        uniqueParent = getUniqueParent(parent);\r\n        while (!isUnique && parent !== null) {\r\n            els = parent.querySelectorAll(currentCssPath);\r\n            if (els.length > 1) {\r\n                nth = Array.prototype.indexOf.call(parent.children, currentTarget);\r\n                if (nth > -1) {\r\n                    currentCssPath += ':nth-child(' + (nth + 1) + ')';\r\n                }\r\n            }\r\n            \r\n            if (currentCssPath !== cssPath) {\r\n                cssPath = cssPath ? currentCssPath + ' ' + cssPath : currentCssPath;\r\n            }\r\n            currentTarget = parent;            \r\n            currentCssPath = buildCssPath(currentTarget);\r\n            isUnique = isUniqueSelector(cssPath, uniqueParent.node);\r\n            parent = currentTarget.parentNode;\r\n        }\r\n\r\n        return uniqueParent ? uniqueParent.cssPath + ' ' + cssPath : cssPath;\r\n    }\r\n    \r\n    function getUniqueParent(node) {\r\n        var parent = node.parentNode,\r\n            cssPath = buildCssPath(node),\r\n            isUnique = isUniqueSelector(cssPath);\r\n        \r\n        while(!isUnique && parent !== null) {\r\n            cssPath = buildCssPath(parent);\r\n            isUnique = isUniqueSelector(cssPath);\r\n            node = parent;\r\n            parent = parent.parentNode;\r\n        }\r\n\r\n        return {\r\n            node: node,\r\n            cssPath: cssPath\r\n        };\r\n    }\r\n\r\n    function buildCssPath(target, parent) {\r\n        var cssPath = '',\r\n            pathBuilder,\r\n            attr,\r\n            i,\r\n            len = attrs.length;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n            attr = attrs[i];\r\n            if (!target[attr]) {\r\n                continue;\r\n            }\r\n            \r\n            pathBuilder = attrBuilderMap[attr] || buildAttrPath;\r\n            cssPath = pathBuilder(target, attr, cssPath, parent);\r\n\r\n            if (isUniqueSelector(cssPath, parent)) {\r\n                return cssPath;\r\n            }\r\n        }\r\n\r\n        return cssPath;\r\n    }\r\n\r\n    function buildIdPath(target, attr, cssPath, parent) {\r\n        var id = target.id,            \r\n            attrConfig = attrsConfig[attr],\r\n            matchValues = matches(attrConfig, [id]);\r\n        if (!matchValues.length) {\r\n            return cssPath;\r\n        }\r\n\r\n        return cssPath + '#' + matchValues[0];\r\n    }\r\n\r\n    function buildTagPath(target, attr, cssPath, parent) {\r\n        var tagName = target.tagName,\r\n            attrConfig = attrsConfig[attr],\r\n            matchValues = matches(attrConfig, [tagName]);\r\n        if (!matchValues.length) {\r\n            return cssPath;\r\n        }\r\n\r\n        return matchValues[0] + cssPath;\r\n    }\r\n    \r\n    function buildClassPath (target, attr, cssPath, parent) {\r\n        var attrConfig = attrsConfig[attr],\r\n            matchValues = matches(attrConfig, Array.prototype.slice.call(target.classList));\r\n        if (!matchValues.length) {\r\n            return cssPath;            \r\n        }\r\n\r\n        matchValues.forEach((css) => {\r\n            cssPath += '.' + css;\r\n            if (isUniqueSelector(cssPath, parent)) {\r\n                return cssPath;\r\n            }\r\n        });\r\n\r\n        return cssPath;\r\n    }\r\n    \r\n    function buildAttrPath(target, attr, cssPath, parent) {\r\n        var attrValue = target[attr],\r\n            attrConfig = attrsConfig[attr],\r\n            matchValues = matches(attrConfig, [attrValue]);\r\n\r\n        if (matchValues.length) {\r\n            cssPath += '[' + attr + '=\"' + matchValues[0] +'\"]';\r\n        }\r\n\r\n        return cssPath;\r\n    }\r\n\r\n    function isUniqueSelector(cssPath, parent) {\r\n        if (!cssPath) {\r\n            return false;\r\n        }\r\n\r\n        parent = parent || window.document;\r\n        return parent.querySelectorAll(cssPath).length === 1;\r\n    }\r\n\r\n    function matches(config, values) {\r\n        var resultMap = {},\r\n            includeRegex,\r\n            excludeRegex;\r\n\r\n        if (!config) {\r\n            return [];\r\n        }\r\n\r\n        if (!config.include && !config.exclude) {\r\n            return values;\r\n        }\r\n\r\n        includeRegex = config.include ? new RegExp(config.include) : null;\r\n        excludeRegex = config.exclude ? new RegExp(config.exclude) : null;\r\n        values.forEach(function(value) {\r\n            if (value && (!includeRegex || includeRegex.test(value)) && (!excludeRegex || !excludeRegex.test(value))) {\r\n                resultMap[value] = 1;\r\n            }\r\n        });\r\n\r\n        return Object.keys(resultMap);\r\n    }\r\n\r\n    var cssPathBuilder = {\r\n        updateAttrsConfig: updateAttrsConfig,\r\n        build: build\r\n    };\r\n\r\n    window.automEvents = window.automEvents || {};\r\n    window.automEvents.cssPathBuilder = cssPathBuilder;\r\n})();","(function () {\r\n    var events = {\r\n        mouseenter: {\r\n            condition: function (evt) {\r\n                return false;\r\n            }\r\n        },\r\n        dblclick: {\r\n            condition: function (evt) {\r\n                return !(evt.clientX === 0 && evt.clientY === 0 && evt.detail === 0);\r\n            }\r\n        },\r\n        click: {\r\n            condition: function (evt) {\r\n                return !(evt.clientX === 0 && evt.clientY === 0 && evt.detail === 0 && evt.target && evt.target.tagName.toUpperCase() !== 'SELECT');\r\n            }\r\n        },\r\n        keydown: {\r\n            props: [{\r\n                name: 'value',\r\n                fn: function (evt) {\r\n                    return evt.keyCode;\r\n                }\r\n            }],\r\n            condition: function (evt) {\r\n                return evt.keyCode === 8 || evt.keyCode === 46 || evt.keyCode === 13;\r\n            }\r\n        },\r\n        keypress: {\r\n            props: [{\r\n                name: 'value',\r\n                fn: function (evt) {\r\n                    return evt.keyCode;\r\n                }\r\n            }],\r\n            condition: function (evt) {\r\n                return !isTextInput(evt.target);\r\n            }\r\n        },\r\n        keyup: {\r\n            props: [{\r\n                name: 'value',\r\n                fn: function (evt) {\r\n                    return evt.target.value;\r\n                }\r\n            }],\r\n            condition: function (evt) {\r\n                return isTextInput(evt.target) && evt.keyCode !== 13;\r\n            }\r\n        },\r\n        scroll: {\r\n            props: [{\r\n                name: 'left',\r\n                fn: function (evt) {\r\n                    return evt.target.parentElement ? evt.target.scrollLeft : window.pageXOffset;\r\n                }\r\n            }, {\r\n                name: 'top',\r\n                fn: function (evt) {\r\n                    return evt.target.parentElement ? evt.target.scrollTop : window.pageYOffset;\r\n                }\r\n            }]\r\n        },\r\n        contextmenu: {}\r\n    };\r\n\r\n    function isTextInput(target) {\r\n        var tagName = target && target.tagName && target.tagName.toUpperCase();\r\n        if (!tagName) {\r\n            return false;\r\n        }\r\n        return tagName === 'TEXTAREA' || tagName === 'INPUT';\r\n    }\r\n\r\n    window.automEvents = window.automEvents || {};\r\n    window.automEvents.eventConfig = events;\r\n})();","(function () {\r\n    var automEvents = window.automEvents,\r\n        events = automEvents.eventConfig,\r\n        attrs,\r\n        eventCb,\r\n        recording,\r\n        selectingType = null,\r\n        selectTargetOverlay,\r\n        regionStart = {},\r\n        isMouseDown = false,\r\n        eventModule,\r\n        updateStateHandler;\r\n\r\n    function startListening(cb) {\r\n        eventCb = cb;\r\n        Object.keys(events).forEach(function (event) {\r\n            window.addEventListener(event, onEvent, true);\r\n        });\r\n\r\n        window.addEventListener('mousemove', onSelectingMouseOver, true);\r\n        window.addEventListener('mousedown', onSelectingMouseDown, true);\r\n        window.addEventListener('mouseup', onSelectingMouseUp, true);\r\n        window.addEventListener('click', onSelectingClick, true);\r\n    }\r\n\r\n    function toggleRecording(toStart) {\r\n        recording = toStart;\r\n    }\r\n\r\n    function setSelectingType(type) {\r\n        selectingType = recording && type || null;\r\n        if (!selectingType) {\r\n            hideSelectingOverlay();\r\n        }\r\n    }\r\n\r\n    function setUpdateStateHandler(handler) {\r\n        updateStateHandler = handler;\r\n    }\r\n\r\n    function updateState(config) {\r\n        if (updateStateHandler) {\r\n            updateStateHandler(config);\r\n        }\r\n    }\r\n\r\n    function updateConfig(config) {\r\n        var attrsConfig;\r\n        console.log('update config: ' + JSON.stringify(config));\r\n        if (config.selectorConfig && config.selectorConfig.attrsConfig) {\r\n            attrsConfig = config.selectorConfig.attrsConfig;\r\n            attrs = [];\r\n            Object.keys(attrsConfig).forEach((key) => {\r\n                if (attrsConfig[key] && attrsConfig[key].enabled) {\r\n                    attrs.push(key);\r\n                }\r\n            });\r\n\r\n            window.automEvents.cssPathBuilder.updateAttrsConfig(attrsConfig, attrs);\r\n        }\r\n    }\r\n\r\n    function isInRange(evt) {\r\n        var evtX = evt.clientX,\r\n            evtY = evt.clientY;\r\n\r\n        return evtX >= 1 && evtY >= 1 && evtX <= (window.innerWidth - 1) && evtY <= (window.innerHeight - 1);\r\n    }\r\n\r\n    function onSelectingMouseOver(evt) {\r\n        var overLay,\r\n            target,\r\n            position,\r\n            targetBox,\r\n            size,\r\n            evtX = evt.clientX,\r\n            evtY = evt.clientY;\r\n\r\n        if (!selectingType || !isInRange(evt)) {\r\n            return;\r\n        }\r\n\r\n        overLay = getSelectingOverlay();\r\n        if (selectingType === 'target') {\r\n            target = evt.target;\r\n            targetBox = target.getBoundingClientRect();\r\n            position = getPosition(target);\r\n            size = {\r\n                x: position.x,\r\n                y: position.y,\r\n                width: targetBox.width,\r\n                height: targetBox.height\r\n            }\r\n\r\n            overLay.style.border = '2px solid #FF5733';\r\n            overLay.style.position = 'absolute';\r\n        } else {\r\n            if (isMouseDown && regionStart) {\r\n                size = {\r\n                    x: Math.min(regionStart.x, evtX) - 1,\r\n                    y: Math.min(regionStart.y, evtY) - 1,\r\n                    width: Math.abs(regionStart.x - evtX) + 2,\r\n                    height: Math.abs(regionStart.y - evtY) + 2\r\n                }\r\n            } else {\r\n                size = {\r\n                    x: evtX - 1,\r\n                    y: evtY - 1,\r\n                    width: 2,\r\n                    height: 2\r\n                }\r\n            }\r\n\r\n            overLay.style.position = 'fixed';\r\n            overLay.style.borderTop = size.y + 'px solid';\r\n            overLay.style.borderLeft = size.x + 'px solid';\r\n            overLay.style.borderRight = (window.innerWidth - size.x - size.width) + 'px solid';\r\n            overLay.style.borderBottom = (window.innerHeight - size.y - size.height) + 'px solid';\r\n            overLay.style.borderColor = 'rgba(0, 0, 0, 0.7)';\r\n\r\n            size.x = document.body.scrollLeft;\r\n            size.y = document.body.scrollTop;\r\n        }\r\n\r\n        overLay.style.top = size.y + 'px';\r\n        overLay.style.left = size.x + 'px';\r\n        overLay.style.width = size.width + 'px';\r\n        overLay.style.height = size.height + 'px';\r\n        overLay.style.display = 'block';\r\n    }\r\n\r\n    function onSelectingMouseDown(evt) {\r\n        var eventMessage;\r\n\r\n        if (!selectingType || !isInRange(evt)) {\r\n            return;\r\n        }\r\n\r\n        if (selectingType === 'target') {\r\n            hideSelectingOverlay();\r\n            eventMessage = getVerifyTargetMessage(evt);\r\n            if (eventMessage) {\r\n                sendEventMessage({\r\n                    target: evt.target,\r\n                    message: eventMessage\r\n                });\r\n            }\r\n            updateState({ key: 'selectingType', value: null });\r\n        } else {\r\n            isMouseDown = true;\r\n            regionStart = { x: evt.clientX, y: evt.clientY };\r\n        }\r\n\r\n        evt.stopPropagation();\r\n        evt.preventDefault();\r\n    }\r\n\r\n    function onSelectingMouseUp(evt) {\r\n        if (!selectingType || !isInRange(evt)) {\r\n            return;\r\n        }\r\n\r\n        if (Math.abs(regionStart.x - evt.clientX) > 2 && Math.abs(regionStart.y - evt.clientY) > 2) {\r\n            sendEventMessage({\r\n                message: {\r\n                    type: 'screenshot',\r\n                    left: Math.min(regionStart.x, evt.clientX) - 1,\r\n                    top: Math.min(regionStart.y, evt.clientY) - 1,\r\n                    width: Math.abs(regionStart.x - evt.clientX) + 2,\r\n                    height: Math.abs(regionStart.y - evt.clientY) + 2\r\n                }\r\n            });\r\n        }\r\n\r\n        isMouseDown = false;\r\n        regionStart = null;\r\n    }\r\n\r\n    function onSelectingClick(evt) {\r\n        if (!selectingType) {\r\n            return;\r\n        }\r\n\r\n        evt.stopPropagation();\r\n        evt.preventDefault();\r\n\r\n        hideSelectingOverlay();\r\n        selectingType = null;\r\n        updateState({ key: 'selectingType', value: null });\r\n    }\r\n\r\n    function highlightElement(cssPath) {\r\n        var target = document.querySelector(cssPath);\r\n        if (!target) {\r\n            return;\r\n        }\r\n\r\n        var overLay = getSelectingOverlay();\r\n        var targetBox = target.getBoundingClientRect();\r\n        var position = getPosition(target);\r\n        var size = {\r\n            x: position.x,\r\n            y: position.y,\r\n            width: targetBox.width,\r\n            height: targetBox.height\r\n        };\r\n\r\n        overLay.style.border = '2px solid #FF5733';\r\n        overLay.style.top = size.y + 'px';\r\n        overLay.style.left = size.x + 'px';\r\n        overLay.style.width = size.width + 'px';\r\n        overLay.style.height = size.height + 'px';\r\n        overLay.style.display = 'block';\r\n\r\n        setTimeout(() => {\r\n            hideSelectingOverlay();\r\n            selectingType = null;\r\n            updateState({ key: 'selectingType', value: null });\r\n        }, 2000);\r\n    }\r\n\r\n    function hideSelectingOverlay() {\r\n        var overLay = getSelectingOverlay();\r\n        overLay.style.display = 'none';\r\n    }\r\n\r\n    function getSelectingOverlay() {\r\n        var el;\r\n\r\n        if (!selectTargetOverlay) {\r\n            el = window.document.createElement('div');\r\n            el.id = 'autom-select-target-overlay';\r\n            el.style.display = 'none';\r\n            el.style.position = 'absolute';\r\n            el.style.width = '100px';\r\n            el.style.border = '2px solid #FF5733';\r\n            el.style.height = '100px';\r\n            el.style.background = 'transparent';\r\n            el.style['pointer-events'] = 'none';\r\n            el.style['z-index'] = 100000;\r\n            el.style['box-sizing'] = 'content-box';\r\n            document.body.appendChild(el);\r\n            selectTargetOverlay = el;\r\n        }\r\n\r\n        return selectTargetOverlay;\r\n    }\r\n\r\n    function onEvent(evt) {\r\n        var eventMessage;\r\n\r\n        if (!recording || !eventCb || selectingType) {\r\n            return;\r\n        }\r\n\r\n        console.log(evt.type);\r\n        eventMessage = getEventMessage(evt);\r\n        if (eventMessage) {\r\n            sendEventMessage({\r\n                target: evt.target,\r\n                message: eventMessage\r\n            });\r\n        }\r\n    }\r\n\r\n    function sendEventMessage(eventMessage) {\r\n        eventCb(eventMessage.message);\r\n    }\r\n\r\n    function getVerifyTargetMessage(evt) {\r\n        return {\r\n            type: 'verify',\r\n            cssPath: window.automEvents.cssPathBuilder.build(evt.target),\r\n            value: evt.target.textContent\r\n        };\r\n    }\r\n\r\n    function getEventMessage(evt) {\r\n        var type = evt.type,\r\n            message = {\r\n                type: type,\r\n                cssPath: window.automEvents.cssPathBuilder.build(evt.target)\r\n            },\r\n            eventConfig = events[type];\r\n\r\n        if (eventConfig) {\r\n            if (eventConfig.condition && !eventConfig.condition(evt)) {\r\n                return;\r\n            }\r\n\r\n            eventConfig.props && eventConfig.props.forEach(function (prop) {\r\n                var isPropFunc = prop.name && prop.fn,\r\n                    propName = isPropFunc ? prop.name : prop,\r\n                    propValue = isPropFunc ? prop.fn(evt) : evt[prop];\r\n\r\n                if (propValue !== undefined) {\r\n                    message[propName] = propValue;\r\n                }\r\n            });\r\n        }\r\n\r\n        return message;\r\n    }\r\n       \r\n    function getPosition(el) {\r\n        var elPosition = el.getBoundingClientRect && el.getBoundingClientRect();\r\n\r\n        return !elPosition ? { x: 0, y: 0 } : {\r\n            x: elPosition.left + window.scrollX,\r\n            y: elPosition.top + window.scrollY,\r\n            width: elPosition.width,\r\n            height: elPosition.height\r\n        }\r\n    }\r\n\r\n    eventModule = {\r\n        events: events,\r\n        startListening: startListening,\r\n        toggleRecording: toggleRecording,\r\n        setSelectingType: setSelectingType,\r\n        highlightElement: highlightElement,\r\n        updateConfig: updateConfig,\r\n        setUpdateStateHandler: setUpdateStateHandler\r\n    }\r\n\r\n    window.automEvents = Object.assign(window.automEvents || {}, eventModule);\r\n})();"],"sourceRoot":""}